(this.webpackJsonpauthors=this.webpackJsonpauthors||[]).push([[0],{51:function(t,e,n){},52:function(t,e,n){},85:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(16),i=n.n(r),u=(n(51),n(52),n(11)),s=n(12),o=n(14),j=n.n(o),l=n(104),b=n(110),h=n(106),d=n(108),O=n(109),f=n(107),p=n(41),m=n.n(p),x=n(2),v=Object(l.a)((function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1}}})),g=function(){var t=v();return Object(x.jsx)("div",{className:t.root,children:Object(x.jsx)(b.a,{position:"static",children:Object(x.jsxs)(h.a,{children:[Object(x.jsx)(f.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",children:Object(x.jsx)(m.a,{})}),Object(x.jsx)(d.a,{style:{cursor:"pointer"},onClick:function(t){return Object(u.b)("/")},variant:"h6",className:t.title,children:"Authors"}),Object(x.jsx)(O.a,{color:"inherit",onClick:function(t){return Object(u.b)("/new")},children:"New"})]})})})},S=function(t){return Object(x.jsxs)("form",{onSubmit:t.submitHandler,children:[Object(x.jsx)("label",{htmlFor:"name",children:"Name :"}),Object(x.jsx)("input",{type:"text",onChange:t.nameHandler,name:"name",value:t.name}),Object(x.jsx)("input",{type:"submit",value:t.value})]})},k=function(){var t=Object(c.useState)(""),e=Object(s.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)([]),i=Object(s.a)(r,2),o=i[0],l=i[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(g,{}),Object(x.jsx)(S,{submitHandler:function(t){t.preventDefault(),j.a.post("http://localhost:8000/api/author",{name:n}).then((function(t){Object(u.b)("/")})).catch((function(t){for(var e=t.response.data.errors,n=[],c=0,a=Object.keys(e);c<a.length;c++){var r=a[c];n.push(e[r].message)}l(n)}))},name:n,nameHandler:function(t){return a(t.target.value)},value:"Add an author"}),o.length?Object(x.jsx)("p",{children:o[0]}):""]})},y=function(t){return Object(x.jsx)(O.a,{onClick:t.deleteAuthor,variant:"contained",color:"secondary",children:"Delete"})},C=function(){var t=Object(c.useState)(""),e=Object(s.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)(!1),i=Object(s.a)(r,2),o=i[0],l=i[1];Object(c.useState)((function(){j.a.get("http://localhost:8000/api/all-authors").then((function(t){a(t.data),l(!0)}))}),[]);return Object(x.jsxs)("div",{children:[Object(x.jsx)(g,{}),o&&n.map((function(t){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{children:t.name}),Object(x.jsx)(O.a,{variant:"contained",color:"primary",onClick:function(e){return n=t._id,void Object(u.b)("/update/"+n);var n},children:"Edit"}),Object(x.jsx)(y,{deleteAuthor:function(e){return c=t._id,void j.a.get("http://localhost:8000/api/delete/"+c).then((function(t){return a(n.filter((function(t){return t._id!=c})))}));var c}})]})}))]})},F=function(t){var e=Object(c.useState)(""),n=Object(s.a)(e,2),a=n[0],r=n[1],i=Object(c.useState)(""),o=Object(s.a)(i,2),l=o[0],b=o[1],h=Object(c.useState)([]),d=Object(s.a)(h,2),O=d[0],f=d[1],p=Object(c.useState)(!1),m=Object(s.a)(p,2),v=m[0],k=m[1];Object(c.useEffect)((function(){j.a.get("http://localhost:8000/api/author/"+t.id).then((function(t){r((function(e){return t.data[0].name}))})).catch((function(t){return b("This id is invalid")})),k(!0)}),[]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(g,{}),O?Object(x.jsx)("p",{children:O[0]}):"",l?Object(x.jsx)("p",{children:l}):v&&Object(x.jsx)(S,{submitHandler:function(e){e.preventDefault(),j.a.put("http://localhost:8000/api/author/"+t.id,{name:a}).then((function(t){return Object(u.b)("/")})).catch((function(t){for(var e=t.response.data.errors,n=[],c=0,a=Object.keys(e);c<a.length;c++){var r=a[c];n.push(e[r].message)}f(n)}))},name:a,nameHandler:function(t){return r(t.target.value)},value:"Edit Author"})]})};var w=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(u.a,{children:[Object(x.jsx)(C,{path:"/"}),Object(x.jsx)(k,{path:"/new"}),Object(x.jsx)(F,{path:"/update/:id"})]})})},A=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,112)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),r(t),i(t)}))};i.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(w,{})}),document.getElementById("root")),A()}},[[85,1,2]]]);
//# sourceMappingURL=main.e16ee975.chunk.js.map