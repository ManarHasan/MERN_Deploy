{"version":3,"sources":["views/Header.js","components/Form.js","components/AuthorForm.js","components/Delete.js","views/DisplayAuthors.js","components/Update.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","Header","classes","className","AppBar","position","Toolbar","IconButton","edge","color","aria-label","Typography","style","cursor","onClick","e","navigate","variant","Button","Form","props","onSubmit","submitHandler","htmlFor","type","onChange","nameHandler","name","value","AuthorForm","useState","setName","error","setError","preventDefault","axios","post","then","res","catch","err","errorResponse","response","data","errors","errorArr","Object","keys","key","push","message","target","length","Delete","deleteAuthor","DisplayAuthors","authors","setAuthors","loaded","setLoaded","get","map","author","id","_id","delete","filter","Update","setErrors","useEffect","prevName","put","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9ae597dc.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport {navigate} from '@reach/router';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\nroot: {\r\n    flexGrow: 1,\r\n},\r\nmenuButton: {\r\n    marginRight: theme.spacing(2),\r\n},\r\ntitle: {\r\n    flexGrow: 1,\r\n},\r\n}));\r\n\r\nconst Header = () => {\r\nconst classes = useStyles();\r\n\r\nreturn (\r\n    <div className={classes.root}>\r\n    <AppBar position=\"static\">\r\n        <Toolbar>\r\n        <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n            <MenuIcon />\r\n        </IconButton>\r\n        <Typography style={{cursor: \"pointer\"}} onClick={e => navigate(\"/\")} variant=\"h6\" className={classes.title}>\r\n            Authors\r\n        </Typography>\r\n        <Button color=\"inherit\" onClick={e => navigate(\"/new\")} >New</Button>\r\n        </Toolbar>\r\n    </AppBar>\r\n    </div>\r\n);\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\n\r\nconst Form = (props) => {\r\n    return (\r\n        <form onSubmit={props.submitHandler}>\r\n            <label htmlFor=\"name\">Name :</label>\r\n            <input type=\"text\" onChange={props.nameHandler} name=\"name\" value={props.name}/>\r\n            <input type=\"submit\" value={props.value}/>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form\r\n","import React, {useState} from 'react';\r\nimport axios from 'axios';\r\nimport Header from '../views/Header';\r\nimport { navigate } from '@reach/router';\r\nimport Form from './Form';\r\n\r\nconst AuthorForm = () => {\r\n    const [name, setName] = useState(\"\");\r\n    const [error, setError] = useState([]);\r\n\r\n    const nameHandler = e => setName(e.target.value);\r\n\r\n    const submitHandler = e =>{\r\n        e.preventDefault();\r\n        axios.post(\"http://localhost:8000/api/author\", {\r\n            name\r\n        })\r\n            .then(res =>{\r\n                navigate(\"/\")\r\n            })\r\n            .catch(err => {\r\n                const errorResponse = err.response.data.errors; // Get the errors from err.response.data\r\n                const errorArr = []; // Define a temp error array to push the messages in\r\n                for (const key of Object.keys(errorResponse)) { // Loop through all errors and get the messages\r\n                    errorArr.push(errorResponse[key].message)\r\n                }\r\n                // Set Errors\r\n                setError(errorArr);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Header />\r\n        <Form submitHandler={submitHandler} name={name} nameHandler={nameHandler} value={\"Add an author\"}/>\r\n        {error.length?\r\n        <p>{error[0]}</p>\r\n        :\r\n        \"\"\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AuthorForm\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst Delete = (props) => {\r\n    return (\r\n        <Button onClick={props.deleteAuthor} variant=\"contained\" color=\"secondary\">\r\n            Delete\r\n        </Button>\r\n    )\r\n}\r\n\r\nexport default Delete\r\n","import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport Header from './Header';\r\nimport Button from '@material-ui/core/Button';\r\nimport Delete from '../components/Delete';\r\nimport { navigate } from '@reach/router';\r\n\r\nconst DisplayAuthors = () => {\r\n    const[authors, setAuthors] = useState(\"\");\r\n    const[loaded, setLoaded] = useState(false);\r\n\r\n    useState(() => {\r\n        axios.get(\"http://localhost:8000/api/all-authors\")\r\n            .then(res => {\r\n                setAuthors(res.data);\r\n                setLoaded(true);\r\n            })\r\n    }, [])\r\n\r\n    const deleteAuthor = (id) => {\r\n        axios.delete(\"http://localhost:8000/api/delete/\"+id)\r\n            .then(res => setAuthors(authors.filter((author) => author._id != id)))\r\n    }\r\n\r\n    const nav = (id) => {\r\n        navigate(\"/update/\"+id);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n            {loaded && authors.map((author) => {\r\n                return (\r\n                <>\r\n                <div>{author.name}</div>\r\n                <Button variant=\"contained\" color=\"primary\" onClick = {(e) => nav(author._id)}>Edit</Button>\r\n                <Delete deleteAuthor={e => deleteAuthor(author._id)}/>\r\n                </>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DisplayAuthors\r\n","import { navigate } from '@reach/router';\r\nimport axios from 'axios';\r\nimport React, { useState, useEffect } from 'react'\r\nimport Header from '../views/Header';\r\nimport Form from './Form';\r\n\r\nconst Update = (props) => {\r\n    const [name, setName] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [errors, setErrors] = useState([]);\r\n    const [loaded, setLoaded] = useState(false)\r\n\r\n    useEffect(()=>{\r\n        axios.get(\"http://localhost:8000/api/author/\" + props.id)\r\n            .then(res => {\r\n                setName(prevName => prevName = res.data[0].name)\r\n            })\r\n            .catch(err => setError(\"This id is invalid\"));\r\n            setLoaded(true);\r\n    }, [])\r\n\r\n    const nameHandler = e => setName(e.target.value);\r\n\r\n    const submitHandler = e =>{\r\n        e.preventDefault();\r\n        axios.put(\"http://localhost:8000/api/author/\"+props.id, {\r\n            name\r\n        })\r\n            .then(res => navigate(\"/\"))\r\n            .catch(err => {\r\n                const errorResponse = err.response.data.errors; // Get the errors from err.response.data\r\n                const errorArr = []; // Define a temp error array to push the messages in\r\n                for (const key of Object.keys(errorResponse)) { // Loop through all errors and get the messages\r\n                    errorArr.push(errorResponse[key].message)\r\n                }\r\n                // Set Errors\r\n                setErrors(errorArr);\r\n            });\r\n        \r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Header />\r\n        {errors?\r\n        <p>{errors[0]}</p>\r\n        :\r\n        \"\"\r\n        }\r\n        {error?\r\n        <p>{error}</p>\r\n        :\r\n        loaded && <Form submitHandler={submitHandler} name={name} nameHandler={nameHandler} value={\"Edit Author\"}/>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Update\r\n","import './App.css';\nimport {Router} from '@reach/router'\nimport AuthorForm from './components/AuthorForm';\nimport DisplayAuthors from './views/DisplayAuthors';\nimport Update from './components/Update';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <DisplayAuthors path=\"/\" />\n        <AuthorForm path=\"/new\" />\n        <Update path=\"/update/:id\" />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}